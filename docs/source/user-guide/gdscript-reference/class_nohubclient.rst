:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/nohub/docs/apidocs/godot/NohubClient.xml.

.. _class_NohubClient:

NohubClient
===========

**Inherits:** ``RefCounted``

Nohub client implementation

.. rst-class:: classref-introduction-group

Description
-----------

This class provides access to all the functionality implemented in nohub. This is done via a TCP connection. To use this client, establish a connection to the desired nohub server using ``StreamPeerTCP``, and instantiate the client. 



Make sure to regularly poll the client using :ref:`poll()<class_NohubClient_method_poll>`. Otherwise, client calls will never return. 



Every operation returns a :ref:`NohubResult<class_NohubResult>`. If the operation is successful, the result object contains the data returned by nohub. Otherwise, the result will contain the error. This results in calls like this:

::

    var result := await nohub_client.list_lobbies()
    if result.is_success():
        var lobbies := result.value()
        # ...
    else:
        push_error(result.error())

.. rst-class:: classref-introduction-group

Tutorials
---------

- `Getting started <https://foxssake.github.io/nohub/getting-started/using-nohub.html#with-godot>`__

- `Understanding nohub <https://foxssake.github.io/nohub/understanding-nohub/index.html>`__

.. rst-class:: classref-reftable-group

Properties
----------

.. table::
   :widths: auto

   +------------------------------+------------------------------------------------------------+
   | ``StreamPeerTCP``            | :ref:`_connection<class_NohubClient_property__connection>` |
   +------------------------------+------------------------------------------------------------+
   | ``TrimsockTCPClientReactor`` | :ref:`_reactor<class_NohubClient_property__reactor>`       |
   +------------------------------+------------------------------------------------------------+

.. rst-class:: classref-reftable-group

Methods
-------

.. table::
   :widths: auto

   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                    | :ref:`_init<class_NohubClient_private_method__init>`\ (\ connection\: ``StreamPeerTCP``\ )                                             |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                    | :ref:`poll<class_NohubClient_method_poll>`\ (\ )                                                                                       |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`set_game<class_NohubClient_method_set_game>`\ (\ id\: ``String``\ )                                                              |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult.Lobby<class_NohubResult_Lobby>`         | :ref:`create_lobby<class_NohubClient_method_create_lobby>`\ (\ address\: ``String``, data\: ``Dictionary`` = {}\ )                     |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult.Lobby<class_NohubResult_Lobby>`         | :ref:`get_lobby<class_NohubClient_method_get_lobby>`\ (\ id\: ``String``, properties\: :ref:`Array<class_Array>`\[``String``\] = []\ ) |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult.LobbyList<class_NohubResult_LobbyList>` | :ref:`list_lobbies<class_NohubClient_method_list_lobbies>`\ (\ properties\: :ref:`Array<class_Array>`\[``String``\] = []\ )            |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`delete_lobby<class_NohubClient_method_delete_lobby>`\ (\ lobby_id\: ``String``\ )                                                |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult.Address<class_NohubResult_Address>`     | :ref:`join_lobby<class_NohubClient_method_join_lobby>`\ (\ lobby_id\: ``String``\ )                                                    |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`lock_lobby<class_NohubClient_method_lock_lobby>`\ (\ lobby_id\: ``String``\ )                                                    |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`unlock_lobby<class_NohubClient_method_unlock_lobby>`\ (\ lobby_id\: ``String``\ )                                                |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`hide_lobby<class_NohubClient_method_hide_lobby>`\ (\ lobby_id\: ``String``\ )                                                    |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`publish_lobby<class_NohubClient_method_publish_lobby>`\ (\ lobby_id\: ``String``\ )                                              |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`set_lobby_data<class_NohubClient_method_set_lobby_data>`\ (\ lobby_id\: ``String``, data\: ``Dictionary``\ )                     |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | ``String``                                                | :ref:`whereami<class_NohubClient_method_whereami>`\ (\ )                                                                               |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`_bool_request<class_NohubClient_private_method__bool_request>`\ (\ request\: ``TrimsockCommand``\ )                              |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubLobby<class_NohubLobby>`                       | :ref:`_command_to_lobby<class_NohubClient_private_method__command_to_lobby>`\ (\ command\: ``TrimsockCommand``\ )                      |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NohubResult<class_NohubResult>`                     | :ref:`_command_to_error<class_NohubClient_private_method__command_to_error>`\ (\ command\: ``TrimsockCommand``\ )                      |
   +-----------------------------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Property Descriptions
---------------------

.. _class_NohubClient_property__connection:

.. rst-class:: classref-property

``StreamPeerTCP`` **_connection** :ref:`ðŸ”—<class_NohubClient_property__connection>`

.. container:: contribute

	There is currently no description for this property. Please help us by `contributing one <https://contributing.godotengine.org/en/latest/documentation/class_reference.html>`__!

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_property__reactor:

.. rst-class:: classref-property

``TrimsockTCPClientReactor`` **_reactor** :ref:`ðŸ”—<class_NohubClient_property__reactor>`

.. container:: contribute

	There is currently no description for this property. Please help us by `contributing one <https://contributing.godotengine.org/en/latest/documentation/class_reference.html>`__!

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Method Descriptions
-------------------

.. _class_NohubClient_private_method__init:

.. rst-class:: classref-method

|void| **_init**\ (\ connection\: ``StreamPeerTCP``\ ) :ref:`ðŸ”—<class_NohubClient_private_method__init>`

Construct a client using the specified ``connection``

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_poll:

.. rst-class:: classref-method

|void| **poll**\ (\ ) :ref:`ðŸ”—<class_NohubClient_method_poll>`

Poll the client 



This will poll the underlying connection and process any incoming commands.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_set_game:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **set_game**\ (\ id\: ``String``\ ) :ref:`ðŸ”—<class_NohubClient_method_set_game>`

Specify the game ID used by this client 



See `Games <https://foxssake.github.io/nohub/understanding-nohub/concepts.html#games>`__.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_create_lobby:

.. rst-class:: classref-method

:ref:`NohubResult.Lobby<class_NohubResult_Lobby>` **create_lobby**\ (\ address\: ``String``, data\: ``Dictionary`` = {}\ ) :ref:`ðŸ”—<class_NohubClient_method_create_lobby>`

Create a lobby

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_get_lobby:

.. rst-class:: classref-method

:ref:`NohubResult.Lobby<class_NohubResult_Lobby>` **get_lobby**\ (\ id\: ``String``, properties\: :ref:`Array<class_Array>`\[``String``\] = []\ ) :ref:`ðŸ”—<class_NohubClient_method_get_lobby>`

Query a lobby by ID 



If ``properties`` is specified, only the listed properties will be returned from the lobby's custom data.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_list_lobbies:

.. rst-class:: classref-method

:ref:`NohubResult.LobbyList<class_NohubResult_LobbyList>` **list_lobbies**\ (\ properties\: :ref:`Array<class_Array>`\[``String``\] = []\ ) :ref:`ðŸ”—<class_NohubClient_method_list_lobbies>`

List lobbies by ID 



If ``properties`` is specified, only the listed properties will be returned from the lobby's custom data.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_delete_lobby:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **delete_lobby**\ (\ lobby_id\: ``String``\ ) :ref:`ðŸ”—<class_NohubClient_method_delete_lobby>`

Delete a lobby using its ID 



Only the lobby's owner can delete the lobby.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_join_lobby:

.. rst-class:: classref-method

:ref:`NohubResult.Address<class_NohubResult_Address>` **join_lobby**\ (\ lobby_id\: ``String``\ ) :ref:`ðŸ”—<class_NohubClient_method_join_lobby>`

Join a lobby using its ID 



The response will contain the lobby's address. This string can be used to connect.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_lock_lobby:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **lock_lobby**\ (\ lobby_id\: ``String``\ ) :ref:`ðŸ”—<class_NohubClient_method_lock_lobby>`

Lock the lobby, preventing others from joining 



Only the lobby's owner can lock the lobby.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_unlock_lobby:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **unlock_lobby**\ (\ lobby_id\: ``String``\ ) :ref:`ðŸ”—<class_NohubClient_method_unlock_lobby>`

Unlock the lobby, allowing others to join 



Only the lobby's owner can unlock the lobby. Lobbies are unlocked by default.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_hide_lobby:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **hide_lobby**\ (\ lobby_id\: ``String``\ ) :ref:`ðŸ”—<class_NohubClient_method_hide_lobby>`

Hide lobby, making it invisible when listing lobbies 



Only the lobby's owner can hide the lobby.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_publish_lobby:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **publish_lobby**\ (\ lobby_id\: ``String``\ ) :ref:`ðŸ”—<class_NohubClient_method_publish_lobby>`

Pulbish lobby, making it visible when listing lobbies 



Only the lobby's owner can hide the lobby. Lobbies are visible by default.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_set_lobby_data:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **set_lobby_data**\ (\ lobby_id\: ``String``, data\: ``Dictionary``\ ) :ref:`ðŸ”—<class_NohubClient_method_set_lobby_data>`

Set the lobby's custom data 



Note that this method updates the data, instead of adding to it. Only the lobby's owner can update the lobby's custom data.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_method_whereami:

.. rst-class:: classref-method

``String`` **whereami**\ (\ ) :ref:`ðŸ”—<class_NohubClient_method_whereami>`

Return the client's address, as seen by the nohub server 



This can be used to get the client's public IP address. Note that depending on its configuration, the server might not be able to return a useful address - e.g. when running from Docker using a bridge network.

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_private_method__bool_request:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **_bool_request**\ (\ request\: ``TrimsockCommand``\ ) :ref:`ðŸ”—<class_NohubClient_private_method__bool_request>`

.. container:: contribute

	There is currently no description for this method. Please help us by `contributing one <https://contributing.godotengine.org/en/latest/documentation/class_reference.html>`__!

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_private_method__command_to_lobby:

.. rst-class:: classref-method

:ref:`NohubLobby<class_NohubLobby>` **_command_to_lobby**\ (\ command\: ``TrimsockCommand``\ ) :ref:`ðŸ”—<class_NohubClient_private_method__command_to_lobby>`

.. container:: contribute

	There is currently no description for this method. Please help us by `contributing one <https://contributing.godotengine.org/en/latest/documentation/class_reference.html>`__!

.. rst-class:: classref-item-separator

----

.. _class_NohubClient_private_method__command_to_error:

.. rst-class:: classref-method

:ref:`NohubResult<class_NohubResult>` **_command_to_error**\ (\ command\: ``TrimsockCommand``\ ) :ref:`ðŸ”—<class_NohubClient_private_method__command_to_error>`

.. container:: contribute

	There is currently no description for this method. Please help us by `contributing one <https://contributing.godotengine.org/en/latest/documentation/class_reference.html>`__!

.. |virtual| replace:: :abbr:`virtual (This method should typically be overridden by the user to have any effect.)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (This method has no side effects. It doesn't modify any of the instance's member variables.)`
.. |vararg| replace:: :abbr:`vararg (This method accepts any number of arguments after the ones described here.)`
.. |constructor| replace:: :abbr:`constructor (This method is used to construct a type.)`
.. |static| replace:: :abbr:`static (This method doesn't need an instance to be called, so it can be called directly using the class name.)`
.. |operator| replace:: :abbr:`operator (This method describes a valid operator to use with this type as left-hand operand.)`
.. |bitfield| replace:: :abbr:`BitField (This value is an integer composed as a bitmask of the following flags.)`
.. |void| replace:: :abbr:`void (No return value.)`
